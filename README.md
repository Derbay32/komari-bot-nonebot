# komari-bot
自用小鞠知花 bot 库，基于 [Nonebot2](https://github.com/nonebot/nonebot2) 构建而成。

## 部署方式

***虽然我不觉得会有人用这个，但还是简单写写吧。***

1. clone 这个仓库
2. 进入仓库后根据需求修改 `jrhg_config.json.example` 和 `.env.example`
3. 修改完成后将两个文件的 .example 后缀删掉，这之后在 .env 后面加上 .prod 后缀。
4. 接下来你需要整一个空的sqlite数据库，命名为 `user_data.db` ，然后把它放在你 clone 的这个项目根目录下的 app 目录下面（没有就手动创建一个）
5. 配置好这个数据库的
6. 使用 `docker-compose` 部署机器人，命令 `docker compose up`
7. 使用任意 nonebot 支持的 onebot v11 驱动器连接到这个机器人就行了。

**Tips：更新只需要更新容器的镜像即可**

## 文档

*文档？这就是个自用库能有什么文档。*

总的来说我建议你直接去看 [Nonebot2 文档](https://nonebot.dev/)

如果你对插件的使用有兴趣，那你可以直接去插件的目录下面看，不过那玩意是ai写的，我也不太清楚写得对不对。

## 目前实现的功能

- [x] 写这个其实并不会有人 read 的 README 文件
- [x] 今日好感插件 - 实现用户通过 `.jrhg` 命令调用小鞠进行ai回复，支持自定义问候。
- [x] 独立的权限、配置、数据库管理插件 - ~~妈妈再也不用担心我一堆重复代码到处搬了~~。

## TODO

*我也不知道会不会做完这些功能，希望可以吧。*

**大概率会做的功能**
- [ ] sr插件重构 - 给群友抽神人榜的功能，支持通过聊天指令动态修改
- [ ] ai聊天增强 - 通过给小鞠接入轻量 bert 模型以实现小鞠会自己跑出来聊天的功能
- [ ] `.nn` 指令复刻 - 复刻 dice 那边的 nn 指令给 nb 这边用，实现自定义昵称
- [ ] bot 上下线提醒 - bot 上下线时发一条 bark 推送，以防我不知道机器人寄了
- [ ] 回应戳一戳功能 - 被戳后反戳回去，或者发个表情包

**也许可能会做的功能**
- [ ] `.lsp` 指令移植 - 把长期存储安价内容的那个 lsp 指令移植过来，~~但说实话应该也没人用~~
- [ ] `.jrdp` 指令移植 - 可以每天抽取一个自己是鞠党还是八党之类的小插件，~~感觉重写这个玩意更没意义~~

**纯饼**
- [ ] 败犬原著查询 - 发个指令查关键字之类的，或者搜索每个角色出场地方之类的……~~感觉好麻烦~~
- [ ] 签到和数据查询 - 调用指令签到和查数据？~~感觉没什么用啊~~
……

# 许可
本项目遵循 MIT 许可证。

# 致谢
[Nonebot2](https://nonebot.dev) 提供了本项目的基础框架。
